import React, { useEffect, useState } from 'react';
import './Feed.css';
import StoryReel from './StoryReel';
import MessageSender from './MessageSender';
import Post from './Post';
import db from './firebase'

function Feed() {
  const [posts, setPosts] = useState([]);
  useEffect(() => {
    db.collection('posts').orderBy("timestamp","desc").onSnapshot(snapshot => (
      setPosts(snapshot.docs.map(doc => ({ id: doc.id, data: doc.data() })))
    ))
  }, []);

  return (
    <div className="feed">
      <StoryReel />
      <MessageSender />
      {posts.map((post) => (
        <Post
          key={post.id}
          profilePic={post.data.profilePic}
          message={post.data.message}
          username={post.data.username}
          timestamp={post.data.timestamp}
          image={post.data.image}
        />
      ))}
      <Post
        profilePic="data:image/jpeg;base64,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"
        username='gates.bill'
        timestamp='This is timestamp'
        message='Woah this is a facebook clone'
      />


    </div>
  )
}

export default Feed
